--- po/Makevars
+++ po/Makevars	2004/07/14 08:56:43
@@ -1,7 +1,7 @@
 # Makefile variables for PO directory in any package using GNU gettext.
 
 # Usually the message domain is the same as the package name.
-DOMAIN = $(PACKAGE)
+DOMAIN = $(PACKAGE)-nld
 
 # These two variables depend on the location of this directory.
 subdir = po
--- src/gpg-error-config.in
+++ src/gpg-error-config.in	2004/07/14 08:57:04
@@ -65,7 +65,7 @@
 	    if test "x$libdir" != "x/usr/lib" -a "x$libdir" != "x/lib"; then
 		output="$output -L$libdir"
 	    fi
-	    output="$output -lgpg-error"
+	    output="$output -lgpg-error-nld"
 	    ;;
 	*)
             usage 1 1>&2
--- src/Makefile.am
+++ src/Makefile.am	2004/07/14 08:56:43
@@ -37,19 +37,19 @@
 
 include_HEADERS = gpg-error.h
 
-lib_LTLIBRARIES = libgpg-error.la
+lib_LTLIBRARIES = libgpg-error-nld.la
 
-libgpg_error_la_LDFLAGS = -version-info \
+libgpg_error_nld_la_LDFLAGS = -version-info \
   @LIBGPG_ERROR_LT_CURRENT@:@LIBGPG_ERROR_LT_REVISION@:@LIBGPG_ERROR_LT_AGE@
 
-libgpg_error_la_SOURCES = gpg-error.h gettext.h \
+libgpg_error_nld_la_SOURCES = gpg-error.h gettext.h \
 	strsource.c strerror.c code-to-errno.c code-from-errno.c
 
-libgpg_error_la_LIBADD = @LTLIBINTL@
+libgpg_error_nld_la_LIBADD = @LTLIBINTL@
 
 bin_PROGRAMS = gpg-error
 gpg_error_SOURCES = strsource-sym.c strerror-sym.c gpg-error.c
-gpg_error_LDADD = ./libgpg-error.la
+gpg_error_LDADD = ./libgpg-error-nld.la
 
 err-sources.h: Makefile mkstrtable.awk err-sources.h.in
 	$(AWK) -f $(srcdir)/mkstrtable.awk -v textidx=3 \
--- src/strerror.c
+++ src/strerror.c	2004/07/14 08:56:43
@@ -47,7 +47,7 @@
       else
 	code = GPG_ERR_UNKNOWN_ERRNO;
     }
-  return dgettext (PACKAGE, msgstr + msgidx[msgidxof (code)]);
+  return dgettext (PACKAGE"-nld", msgstr + msgidx[msgidxof (code)]);
 }
 
 
@@ -158,7 +158,7 @@
       code = GPG_ERR_UNKNOWN_ERRNO;
     }
 
-  errstr = dgettext (PACKAGE, msgstr + msgidx[msgidxof (code)]);
+  errstr = dgettext (PACKAGE"-nld", msgstr + msgidx[msgidxof (code)]);
   errstr_len = strlen (errstr) + 1;
   cpy_len = errstr_len < buflen ? errstr_len : buflen;
   memcpy (buf, errstr, cpy_len);
--- src/strsource.c
+++ src/strsource.c	2004/07/14 08:56:43
@@ -33,5 +33,5 @@
 gpg_strsource (gpg_error_t err)
 {
   gpg_err_source_t source = gpg_err_source (err);
-  return dgettext (PACKAGE, msgstr + msgidx[msgidxof (source)]);
+  return dgettext (PACKAGE"-nld", msgstr + msgidx[msgidxof (source)]);
 }
--- tests/Makefile.am
+++ tests/Makefile.am	2004/07/14 08:56:43
@@ -23,6 +23,6 @@
 
 INCLUDES = -I$(top_builddir)/src
 
-LDADD = ../src/libgpg-error.la
+LDADD = ../src/libgpg-error-nld.la
 
 noinst_PROGRAMS = $(TESTS)
